<section class="hero">
  <div class="container">
    <div class="hero-left">
      <div class="eyebrow">New arrivals</div>
      <h1 class="hero-title">Elevate Your Style</h1>
      <p class="hero-sub">Experience the future of premium shopping with LuxeCart. Curated collections from world-class brands delivered to your doorstep.</p>
      <div class="hero-actions">
        <%= link_to 'Shop Now', products_path, class: 'btn btn-primary' %>
        <%= link_to 'View Collections', categories_path, class: 'btn btn-outline' %>
      </div>
    </div>

    <div class="hero-image">
      <% if @featured_products && @featured_products.first && @featured_products.first.image.present? %>
        <%= image_tag @featured_products.first.image, alt: @featured_products.first.name %>
      <% else %>
        <img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=1200&auto=format&fit=crop" alt="Hero image" />
      <% end %>
    </div>
  </div>
</section>

<div class="container">
  <section class="categories">
    <h2>Shop by Category</h2>
    <div class="category-list">
      <% Category.limit(6).each do |c| %>
        <%= link_to c.name, category_path(c), class: 'cat' %>
      <% end %>
    </div>
  </section>

  <section style="padding: 22px 0;">
    <h2>Featured Products</h2>
    <p class="muted">Handpicked premium items just for you. Discover our most popular selections.</p>

    <div class="products-grid">
      <% (@featured_products || Product.limit(8)).each do |product| %>
        <article class="product-card">
          <div class="media">
            <% if product.image.present? %>
              <%= link_to image_tag(product.image, alt: product.name), product_path(product) %>
            <% else %>
              <%= link_to image_tag('https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=800&auto=format&fit=crop', alt: product.name), product_path(product) %>
            <% end %>
          </div>
          <div class="card-body">
            <h3 class="product-title"><%= link_to truncate(product.name, length: 48), product_path(product) %></h3>
            <p class="product-desc"><%= truncate(product.description, length: 80) %></p>
            <div class="product-meta">
              <span class="price"><%= number_to_currency(product.price) %></span>
              <div class="card-actions">
                <%= button_to 'Add', add_item_cart_path, params: { product_id: product.id }, remote: false, method: :post, class: 'btn btn-primary add-to-cart' %>
                <%= link_to 'View', product_path(product), class: 'btn btn-outline' %>
              </div>
            </div>
          </div>
        </article>
      <% end %>
    </div>
  </section>
</div>