<div class="space-y-6">
  <h1 class="text-3xl font-bold">My Orders</h1>

  <% if @orders.any? %>
    <div class="space-y-4">
      <% @orders.each do |order| %>
        <div class="bg-white rounded-lg shadow p-6">
          <div class="flex justify-between items-start mb-4">
            <div>
              <h3 class="text-lg font-semibold">Order #<%= order.order_number %></h3>
              <p class="text-gray-600 text-sm"><%= order.created_at.strftime('%B %d, %Y at %I:%M %p') %></p>
            </div>
            <div class="text-right">
              <%= status_badge(order.status) %>
              <p class="text-sm text-gray-600 mt-1">
                Payment: 
                <span class="<%= order.paid? ? 'text-green-600' : 'text-yellow-600' %> font-semibold">
                  <%= order.payment_status.titleize %>
                </span>
              </p>
            </div>
          </div>

          <div class="border-t pt-4">
            <div class="flex justify-between items-center">
              <div>
                <p class="text-gray-600">Total Items: <span class="font-semibold"><%= order.total_items %></span></p>
                <p class="text-lg font-bold text-indigo-600"><%= currency_format(order.total_price) %></p>
              </div>
              
              <div class="space-x-2">
                <%= link_to "View Details", order_path(order), class: "bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700" %>
                <% if order.pending? %>
                  <%= button_to "Cancel Order", cancel_order_path(order), method: :post, data: { confirm: 'Are you sure you want to cancel this order?' }, class: "bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700" %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="bg-white rounded-lg shadow p-12 text-center">
      <p class="text-gray-600 text-lg mb-4">You haven't placed any orders yet</p>
      <%= link_to "Start Shopping", products_path, class: "bg-indigo-600 text-white px-6 py-3 rounded hover:bg-indigo-700 inline-block" %>
    </div>
  <% end %>
</div>
