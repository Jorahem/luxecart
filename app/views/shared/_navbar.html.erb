<nav class="site-navbar">
  <div class="container navbar-inner">
    <div class="brand">
      <%= link_to 'LuxeCart', root_path, class: 'brand-link' %>
    </div>

    <button id="nav-toggle" aria-label="Toggle navigation" class="nav-toggle" aria-expanded="false">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>

    <ul class="nav-links" id="nav-links">
      <li class="<%= nav_active_class(root_path) %>"><%= link_to 'Home', root_path %></li>
      <li class="<%= nav_active_class(products_path) %>"><%= link_to 'Products', products_path %></li>
      <li class="<%= nav_active_class(categories_path) %>"><%= link_to 'Categories', categories_path %></li>
      <li class="<%= nav_active_class(about_path) %>"><%= link_to 'About', about_path %></li>
      <li class="<%= nav_active_class(returns_path) %>"><%= link_to 'Returns', returns_path %></li>
      <li class="contact-link <%= nav_active_class(contact_path) %>"><%= link_to 'Contact', contact_path %></li>
    </ul>

    <div class="nav-actions">
      <%= link_to cart_path, class: 'cart-link' do %>
        <svg class="cart-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M3 3h2l.4 2M7 13h10l4-8H5.4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="10" cy="20" r="1" fill="currentColor" />
          <circle cx="18" cy="20" r="1" fill="currentColor" />
        </svg>
        <span class="cart-text">Cart</span>
        <span class="cart-badge" id="cart-count"><%= cart_item_count %></span>
      <% end %>

      <%# === Auth links === %>
      <% if user_signed_in? %>
        <%= link_to "Logout",
                    destroy_user_session_path,
                    data: { turbo_method: :delete },
                    class: "nav-auth-link ml-4" %>
      <% else %>
        <%= link_to "Login",
                    new_user_session_path,
                    class: "nav-auth-link ml-4" %>
      <% end %>
    </div>
  </div>
</nav>