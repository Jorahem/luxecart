<header class="site-header">
  <nav class="navbar">
    <div class="navbar-brand">
      <%= link_to "LuxeCart", root_path, class: "logo" %>
    </div>
    
    <div class="navbar-menu">
      <%= form_with url: search_path, method: :get, class: "search-form" do |f| %>
        <%= f.text_field :q, placeholder: "Search products...", class: "search-input" %>
        <%= f.submit "Search", class: "search-button" %>
      <% end %>
    </div>
    
    <ul class="navbar-nav">
      <li><%= link_to "Products", products_path %></li>
      <li><%= link_to "Categories", categories_path %></li>
      <li><%= link_to "Brands", brands_path %></li>
      
      <% if user_signed_in? %>
        <li><%= link_to "Wishlist", wishlist_path %></li>
        <li>
          <%= link_to cart_path do %>
            Cart (<%= current_cart.total_items %>)
          <% end %>
        </li>
        <li class="dropdown">
          <%= current_user.full_name %>
          <ul class="dropdown-menu">
            <li><%= link_to "My Orders", orders_path %></li>
            <li><%= link_to "My Addresses", addresses_path %></li>
            <% if current_user.admin? %>
              <li><%= link_to "Admin Dashboard", admin_dashboard_path %></li>
            <% end %>
            <li><%= link_to "Logout", destroy_user_session_path, data: { turbo_method: :delete } %></li>
          </ul>
        </li>
      <% else %>
        <li><%= link_to "Login", new_user_session_path %></li>
        <li><%= link_to "Sign Up", new_user_registration_path %></li>
        <li>
          <%= link_to cart_path do %>
            Cart (<%= current_cart.total_items %>)
          <% end %>
        </li>
      <% end %>
    </ul>
  </nav>
</header>
