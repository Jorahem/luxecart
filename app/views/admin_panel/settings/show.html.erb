<main class="px-4 py-8">
  <div class="max-w-4xl mx-auto">
    <div class="flex items-center justify-between gap-4 mb-6">
      <div>
        <h1 class="text-3xl font-extrabold text-white tracking-tight">Settings</h1>
        <p class="text-sm text-slate-300 mt-1">Configure basic store settings</p>
      </div>

      <%= link_to admin_dashboard_path,
            class: "px-4 py-2 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-semibold text-white" do %>
        <i class="fas fa-arrow-left mr-2"></i> Back
      <% end %>
    </div>

    <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
      <%= form_with url: admin_settings_path, method: :patch, local: true do |f| %>
        <div class="space-y-5">
          <div>
            <label class="block text-xs font-semibold text-slate-300 mb-2">Store name</label>
            <%= text_field_tag "settings[store_name]",
                  @settings[:store_name],
                  class: "w-full px-4 py-3 rounded-xl bg-white border border-white/10 text-black placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
          </div>

          <div>
            <label class="block text-xs font-semibold text-slate-300 mb-2">Support email</label>
            <%= email_field_tag "settings[support_email]",
                  @settings[:support_email],
                  class: "w-full px-4 py-3 rounded-xl bg-white border border-white/10 text-black placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500" %>
          </div>

          <div class="rounded-xl border border-white/10 bg-white/5 p-4">
            <h2 class="text-white font-bold">Stripe</h2>
            <p class="text-sm text-slate-300 mt-1">
              Keys are read from ENV. (Recommended: use Rails credentials or environment variables)
            </p>

            <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
              <div class="text-slate-300">
                Publishable key present:
                <span class="text-white font-semibold"><%= @settings[:stripe_public_key_present] ? "Yes" : "No" %></span>
              </div>

              <div class="text-slate-300">
                Secret key present:
                <span class="text-white font-semibold"><%= @settings[:stripe_secret_key_present] ? "Yes" : "No" %></span>
              </div>
            </div>
          </div>

          <div class="flex items-center gap-3 pt-2">
            <%= submit_tag "Save Settings",
                  class: "px-5 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</main>